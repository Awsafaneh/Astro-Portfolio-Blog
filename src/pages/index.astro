---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import LottieAnimation from "astro-integration-lottie/Lottie.astro";
import SocialLinks from "../components/SocialMedia.astro";
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />

    <style>
      .side-by-side-containers {
        display: flex;
        justify-content: space-between;
      }
      .left-container,
      .right-container {
        width: 100%;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        height: 100%;
      }
      .animated-text-container {
        display: flex;
        flex-direction: column;
        /* align-items: center; */
        align-items: flex-start;
        margin-top: 20%;
      }
      .animated-text {
        --cursor-visibility: solid;
        animation:
          typing 3.5s steps(40, end),
          blink-caret 0.75s step-end infinite;
        border-right: 0.15em var(--cursor-visibility) orange;
        white-space: nowrap;
        overflow: hidden;
        animation-fill-mode: forwards;
        text-align: right;
      }
      @keyframes typing {
        from {
          max-width: 0;
        }
        to {
          max-width: 100%;
        }
      }
      @keyframes blink-caret {
        from,
        to {
          border-color: transparent;
        }
        50% {
          border-color: white;
        }
      }
      @media (max-width: 768px) {
        .side-by-side-containers {
          flex-direction: column;
        }
        .left-container,
        .right-container {
          width: 100%;
        }
        .left-container {
          order: 1;
        }
        .right-container {
          order: 2;
        }
        .animated-text-container {
          align-items: flex-start;
        }
      }
    </style>
    <script>
      document.addEventListener("DOMContentLoaded", (event) => {
        setTimeout(() => {
          const animatedText = document.querySelector(
            ".animated-text"
          ) as HTMLElement;
          if (animatedText) {
            animatedText.style.setProperty("--cursor-visibility", "none");
          }
        }, 0);
      });
    </script>
  </head>
  <body>
    <Header />
    <main>
      <div class="side-by-side-containers">
        <div class="left-container">
          <div class="animated-text-container">
            <h1 class="animated-text">Hi There!</h1>
            <h2 class="animated-text">I'm Abdul Rafay</h2>
            <p class="animated-text description">
              Software Engineer | Full Stack & Flutter Developer
            </p>
            <SocialLinks />
          </div>
        </div>
        <div class="right-container">
          <div
            class="lottie-animation-container"
            style="width: 70%; height: 70%;"
          >
            <LottieAnimation
              src="/animation/rafay_animation.json"
              autoplay="visible"
            />
          </div>
        </div>
      </div>
    </main>
  </body>
</html>
